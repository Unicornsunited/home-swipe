{"version":3,"sources":["app.min.js"],"names":[],"mappings":"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","file":"app.min.js","sourcesContent":["\"use strict\";\r\n\r\nangular.module('lists', []);\r\nangular.module('houses.data', []);\r\nangular.module('houses.button', []);\r\nangular.module('houses.dating', [\r\n\t'lists'\r\n]);\r\nangular.module('house-dating', [\r\n    'ui.router',\r\n    'houses.data',\r\n    'houses.dating'\r\n]);\r\n(() => {\r\n    angular.module('house-dating')\r\n        .run(run)\r\n        .config(config);\r\n\r\n    function run($rootScope, $state, $document) {\r\n        $rootScope.$state = $state;\r\n        $rootScope.apiUrl = {\r\n            base: \"/api\",\r\n            user: \"/user\"\r\n        };\r\n        $rootScope.url = {\r\n            icons: \"src/icons/\"\r\n        };\r\n\r\n        $document.on('click', function() {\r\n            $rootScope.$broadcast('bodyClick');\r\n        });\r\n    }\r\n\r\n    function config($stateProvider, $urlRouterProvider) {\r\n        $urlRouterProvider.otherwise(\"/\");\r\n\r\n        $stateProvider\r\n            .state('base', {\r\n                abstract: true,\r\n                views: {\r\n                    // top: {\r\n                    //     templateUrl: \"patterns/organisms/top/top.html\",\r\n                    //     // controller: \"topCtrl\"\r\n                    // }\r\n                }\r\n            })\r\n            .state('base.dating', {\r\n                url: \"/\",\r\n                resolve: {\r\n                    data: property => {\r\n                        return property.getListing();\r\n                    }\r\n                },\r\n                views: {\r\n                    'mainContent@': {\r\n                        templateUrl: \"dist/templates/dating.html\",\r\n                        controller: \"datingCtrl\"\r\n                    }\r\n                }\r\n            });\r\n    };\r\n})();\r\n\r\n(() => {\r\n\tangular.module('lists')\r\n\t.factory('listService', listService);\r\n\r\n\tfunction listService() {\r\n\t\treturn {\r\n\t\t\taddToList: addToList,\r\n\t\t\tremoveFromList: removeFromList\r\n\t\t};\r\n\r\n\t\tfunction addToList(id, targetListName) {\r\n\t\t\tlet targetListCache = [];\r\n\t\t\tif(window.localStorage.getItem(targetListName)) {\r\n\t\t\t\ttargetListCache = JSON.parse(window.localStorage.getItem(targetListName));\r\n\t\t\t}\r\n\r\n\t\t\ttargetListCache.push(id);\r\n\r\n\t\t\twindow.localStorage.setItem(targetListName, JSON.stringify(targetListCache));\r\n\t\t}\r\n\r\n\t\tfunction removeFromList(id, targetList) {\r\n\t\t\tif (typeof targetList === 'string') {\r\n\t\t\t\tif(window.localStorage.getItem(targetList)) {\r\n\t\t\t\t\ttargetList = JSON.parse(window.localStorage.getItem(targetList));\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttargetList = [];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(targetList.length && targetList[id]) {\r\n\t\t\t\ttargetList.splice(id, 1);\r\n\t\t\t}\r\n\r\n\t\t\tif(window.localStorage.getItem(targetList)) {\r\n\t\t\t\twindow.localStorage.setItem(id, JSON.stringify(targetList));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})();\r\n(() => {\r\n    angular.module('houses.data')\r\n    .factory('property', function($http, $q) {\r\n        function getProperty(_url, _data) {\r\n            var data = {\r\n                    api_key: \"gndny3sqrvsgx483wpamyqe4\",\r\n                    callback: \"JSON_CALLBACK\"\r\n                },\r\n                url = \"/api/\";\r\n\r\n            angular.extend(data, _data);\r\n\r\n            url = url + _url + \".json\";\r\n\r\n            var def = $q.defer();\r\n\r\n            $http({\r\n                    'url': url,\r\n                    'method': 'GET',\r\n                    'params': data\r\n                })\r\n                .success(function(data) {\r\n                    def.resolve({\r\n                        'status': 'success',\r\n                        'data': data\r\n                    });\r\n                });\r\n\r\n            return def.promise;\r\n        }\r\n\r\n        function getListing(_data) {\r\n            return getProperty(\"property_listings\", {\r\n                postcode: 'sw4',\r\n                area: 'London',\r\n                listing_status: 'rent',\r\n                minimum_price: 50,\r\n                maximum_price: 500,\r\n                order_by: 'age',\r\n                page_size: 60\r\n            });\r\n        }\r\n\r\n        function getHouse(id) {\r\n            return getProperty(\"property_listings\", {\r\n                listing_id: id\r\n            });\r\n        }\r\n\r\n        return {\r\n            getListing: getListing,\r\n            getHouse: getHouse\r\n        };\r\n    });\r\n})();\r\n(() => {\r\n\tangular.module('houses.dating')\r\n\t.controller('datingCtrl', datingCtrl);\r\n\t\r\n\tfunction datingCtrl($scope, data, listService) {\r\n\t\tlet cards = data.data.listing;\r\n\t\t$scope.cards = cards.splice(0, 5);\r\n\t\tcards.splice(0, 5);\r\n\t\t\r\n\t\t$scope.moveCardToList = (id, targetListName) => {\r\n\t\t\tlistService.addToList(id, targetListName);\r\n\t\t\tlistService.removeFromList(0, $scope.cards);\r\n\t\t\t$scope.cards.push(cards[0]);\r\n\t\t\tcards.splice(0, 1);\r\n\t\t};\r\n\t}\r\n})();\r\n\n//# sourceMappingURL=app.min.js.map"]}